<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<script>
    var chanceOrdi = 3
    var chanceUser = 3
    while (chanceOrdi >= 0 || chanceUser >= 0) {
        var elements = ["pierre", "feuille", "ciseaux"]
        var ordi = elements[Math.floor(Math.random() * elements.length)]

        var user = prompt('Fais ton choix: pierre, feuille ou ciseaux\n Vous avez ' + chanceUser + " chance")

        if (!user.match(/[a-z\-]/gi)) {
            alert('only alphanumeric caracter')
        }
        alert("L'ordinateur a choisi " + ordi)
        console.log(chanceUser)
        console.log(chanceOrdi)
        if (ordi === user) {
            alert('égalité')
        }
        if (ordi === "pierre") {
            if (user === "ciseaux") {
                alert("l'ordi gagne")
                chanceUser--
            } else if (user === "feuille") {
                alert('Vous avez gagné')
                chanceOrdi--
            }
        } else if (ordi === "feuille") {
            if (user === "ciseaux") {
                alert('Vous avez gagné')
                chanceOrdi--
            } else if (user === "pierre") {
                alert("L'ordi gagne")
                chanceUser--
            }
        } else if (ordi === "ciseaux") {
            if (user === "feuille") {
                alert("L'ordi gagne")
                chanceUser--
            } else if (user === "pierre") {
                alert("vous avez gagné")
                chanceOrdi--
            }
        }
        if (chanceOrdi === 0) {
            break
        }
        if (chanceUser === 0) {
            break
        }
    }
    if (chanceOrdi < 1) {
        alert("L'ordi a perdu la partie")
    } else {
        alert('Vous avez gagné la partie')
    }
</script>
</body>
</html>